{% extends "base.html" %}

{% block title %}
    Tableau de Bord Admin
{% endblock title %}

{% block content %}
<div class="flex bg-gray-50">
    
    {% with active_page='dashboard' %}
        {% include 'includes/admin_sidebar.html' %}
    {% endwith %}

    <main class="flex-1 overflow-y-auto p-6">
        <div class="flex items-center justify-between pb-4 border-b border-gray-200 mb-6">
            <h1 class="text-3xl font-semibold text-gray-800">Vue d'ensemble et Statistiques</h1>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            
            <div class="bg-white p-5 rounded-lg shadow-md border border-indigo-100">
                <div class="text-sm font-medium text-gray-500">Adhérents Actifs</div>
                <div class="mt-1 text-3xl font-semibold text-indigo-600">{{ total_adherents }}</div>
                <p class="text-xs text-green-500 mt-2">+12% ce mois</p>
            </div>

            <div class="bg-white p-5 rounded-lg shadow-md border border-teal-100">
                <div class="text-sm font-medium text-gray-500">Livres dans le Catalogue</div>
                <div class="mt-1 text-3xl font-semibold text-teal-600">{{ total_livres }}</div>
                <p class="text-xs text-gray-500 mt-2">Total titres uniques</p>
            </div>

            <div class="bg-white p-5 rounded-lg shadow-md border border-red-100">
                <div class="text-sm font-medium text-gray-500">Prêts en Cours</div>
                <div class="mt-1 text-3xl font-semibold text-red-600">{{ total_prets }}</div>
                <p class="text-xs text-orange-500 mt-2">Attention, 5 sont en retard !</p>
            </div>
        </div>

        <div class="mt-8 p-6 bg-white rounded-lg shadow-md">
            <h3 class="text-xl font-semibold text-gray-700 mb-4">Actions Rapides</h3>
            <div class="flex space-x-4">
                <a href="{{ url_for('adherent_bp.add_adherent') }}" class="btn btn-primary bg-green-500 hover:bg-green-600 text-white p-2 rounded-md transition duration-150">
                    + Nouvel Adhérent
                </a>
                <a href="{{ url_for('pret_bp.emprunter') }}" class="btn btn-primary bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-md transition duration-150">
                    ➡️ Enregistrer un Prêt
                </a>
            </div>
        </div>
        
    </main>
</div>
{% endblock %}